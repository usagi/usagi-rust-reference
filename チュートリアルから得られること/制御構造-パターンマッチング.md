## 制御構造-パターンマッチング

file: [pattern_matching.rs](.src/pattern_matching.rs)

```rust
fn main( )
{
  let a = 123u;

  match a
  {   0       => println!( "ししとうがらし" )
  , 123 | 456 => println!( "ぴーまん" )
  , 500..2500 => println!( "ぱぷりか" )
  , _         => println!( "はらぺーにょ" )
  }

  println!
    ( "{}"
    , match ( 123u, 456u )
      { ( 123,   t ) if t < 123 => "三鷹"
      , ( 456,   _ )            => "能鷹"
      , (   s, 123 ) if s > 456 => "黄辛"
      , (   _,   _ )            => "万願寺"
      }
    )
  
  let ( x, _, z ) =
    match a
    { s @ 0..100 => ( s + 1,  1, ( s + 1 ) * ( s + 1 ) )
    , s @ _      => ( s - 1, -1, ( s - 1 ) * ( s - 1 ) )
    };

  println!( "x: {} y: {}", x, z );

  let b = &[ 1u, 2, 3, 4, 5 ];
  
  fn print_from_head( a: &[uint] )
  {
    match a
    { [ head, ..tails ]
      => { print!( "{} ", head ); print_from_head( tails ) }
    , []
      => ()
    }
  }

  print_from_head( b );
}
```

result:

> ```zsh
ぴーまん
万願寺
x: 122 y: 14884
1 2 3 4 5 
```

### 得られること

1. `match`でパターンマッチングを使えるようだ。
1. パターンには `0` のように単一の値を書けるようだ。
1. パターンには `123 | 456` のように複数の特定の値を書けるようだ。
1. パターンには `500..2500` のように値の範囲を書けるようだ。
1. パターンには `_` で任意にヒットするパターンを書けるようだ。
1. パターンには変数名を与えて `if t < 123` 任意の条件を判定した結果を使えるようだ。
1. パターンに対応する値を変数で取得して使いたければ `s @ 0..100` のように`@`を付けて前に変数名を与えれば良いようだ。
1. array に対して `[ head, ..tails ]` パターンのマッチングが可能なようだ。

### おまけ

1. `(123u, 456u)`のようにしてタプルを使えるようだ。しかしこのチュートリアルの段階ではまだタプルについて詳しくは触れられて居ないようだ。
1. タプルの中身を取得したい場合には `let (x, _, z) = ` のように欲しいタプルに対応する部分に変数名を入れ、不要な部分には`_`を入れて`let`すれば良いようだ。

### 関連の強い頁

1. [制御構造-条件分岐](制御構造-条件分岐.md)
1. [タプル](タプル.md)
1. [arrayとVec](arrayとVec.md)
1. [arrayとスライス](arrayとスライス.md)

###この文章と Rust のバージョン

- 執筆: Rust-0.11.0

### 参考

- http://doc.rust-lang.org/tutorial.html#pattern-matching

